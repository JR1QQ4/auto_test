# 软件测试的艺术

>《软件测试的艺术》（原书第3版）（美）Glenford J. Myers Tom Badgett Corey Sandler著

## 第 1 章 一次自评价测试

问题: 这个程序从一哥输入对话框中读取三个整数值，这三个整数值代表了三角形三条边的长度。程序显示提示信息，指出该三角形是何种三角形:
不规则三角形、等腰三角形还是等边三角形。

用例: 
1. 有效的不规则三角形，如3、4、5
2. 有效的等边三角形，如2、2、2
3. 有效的等腰三角形，如2、2、3
4. 有效的等腰三角形，特殊的三个测试用例，如3、3、4和3、4、3和4、3、3
5. 某边的长度等于0
6. 某边的长度为负数
7. 三个整数都大于0，其中两个整数之和等于第三个，如1、2、3
8. 一边等于另外两边之和，特殊的三个测试用例，如1、2、3和1、3、2和3、1、2
9. 三个整数都大于0，其中两个整数之和小于第三个整数，如1、2、4和12、15、30
10. 一边大于另外两边之和的三种情况，如1、2、4和1、4、2和4、1、2
11. 三边长度都为0，即0、0、0
12. 输入的边长为非整数，如2.5、3.5、5.5
13. 边长个数不对，如仅输入了两个而不是三个整数
14. 定义针对输入值的预期输出值 

## 第 2 章 软件测试的心理学和经济学

测试是为发现错误而执行程序的过程。不只是为了证明程序能够运行而去测试程序；相反，应该一开始就假设程序中隐藏着错误，然后测试程序，
发现尽可能多的错误。

黑盒测试，穷举输入测试是无法实现的。

白盒测试，穷举路径测试，将程序中的每条语句至少执行一次。

尽管穷举输入测试要强于穷举路径测试，但两者都不是有效的方法，因为这两种都不可行。
那么，也许存在别的方法，将黑盒测试和白盒测试的要素结合起来，形成一个合理但并不十分完美的测试策略。

软件测试的重要原则:

1. 测试用例中一个必须部分就是对预期输出或结果进行定义
2. 程序员应当避免测试自己编写的程序
3. 编写软件的组织不应当测试自己编写的软件
4. 应当彻底检查每个测试的执行结果
5. 测试用例的编写不仅应当根据有效和预料到的输入情况，而且也应当根据无效和未预料到的输入情况
6. 检查程序是否“未作其应该做的”仅是测试的一半，测试的另一半是检查程序是否“做了其不应该做的”
7. 应避免测试用例用后即弃，除非软件本身就是一个一次性的软件
8. 计划测试工作时不应默许假定不会发现错误
9. 程序某部分存在更多错误的可能性，与该部分已发现错误的数量成正比
10. 软件测试是一项极富创造性、极具智力挑战性的工作

## 第 3 章 代码检查、走查与评审

代码检查、走查以及可用性测试是三种主要的人工测试方法。
大多数的软件项目都应使用到以下的人工测试方法: 利用错误列表进行代码检查；小组代码走查；桌面检查；同行评审。

所谓代码检查，是以组未单位阅读代码，它是一系列规程和错误检查技术的集合。代码检查过程通常将注意力集中在发现错误上，而不是纠正错误。

用于代码检查的错误列表:

- 数据引用错误
- 数据声明错误
- 运算错误
- 比较错误
- 控制流程错误
- 接口错误
- 输入/输出错误
- 其他检查

## 第 4 章 测试用例的设计

由于时间和成本的约束，软件测试的最关键问题是: 在所有可能的测试用例中，哪个子集最有可能发现最多的错误？
推荐的步骤是先使用黑盒测试方法来设计测试用例，然后视情况需要使用白盒测试方法来设计补充的测试用例。

黑盒测试:

- 等价类划分，两个步骤：（1）确定等价类（外部条件、有效等价类、无效等价类）（2）生成测试用例。等价类原则:
    - 如果输入条件规定了一个取值范围（例如，数量可以是从1到99），那么就应确定一个有效等价类（1<数量<99），以及两个无效等价类
    （数量<1，数量>99）
    - 如果输入条件规定了取值的个数（例如，汽车可登记1到6名车主），那么就应确定一个有效等价类和两个无效等价类
    （没有车主，或车主多于6个）
    - 如果输入条件规定了一个输入值的集合，而且有理由认为程序会对每个值进行不同处理（例如，交通工具的类型必须是公共汽车、卡车、
    出租车、火车或摩托车），那么就应未每个输入值确定一个有效等价类和一个无效等价类（例如，拖车）
    - 如果存在输入条件规定了 "必须是" 的情况，例如 "标识符的第一个字符必须是字母"，那么就应确定一个有效等价类（首字符是字母）和
    一个无效等价类（首字母不是字母）
- 边界值分析，考察正处于等价划分边界或在边界附近地状态，使用指南:
    - 如果输入条件规定了一个输入值的范围，那么应针对范围的边界设计测试用例，针对刚刚越界的情况设计无效输入测试用例。例如，如果输入
    值的有效范围是-1.0至+1.0，那么应针对-1.0、1.0、-1.001和1.001的情况设计测试用例
    - 如果输入条件规定了输入值的数量，那么应针对最小数量输入值、最大数量输入值，以及比最小数量少一个，比最大数量对一个的情况设计测
    试用例。例如，如果某个输入文件可容纳1~255条记录，那么应根据0、1、255和256条记录的情况设计测试用例
    - 对每个输出条件应用指南1.例如，如果某个程序按月计算FICA的扣除额，且最小金额是$0.00，最大金额未$1165.25，那么应该设计测试用例
    来测试扣除$0.00和$1165.25的情况，还应观察是否可能设计出负数或超过$1165.25的测试用例
    - 对每个输出条件应用指南2。例如某个信息检索系统根据输入请求显示关联程度最高的信息摘要，而摘要的数量从未超过4条，则应编写测试用
    例，使程序显示0条、1条和4条摘要，还应设计测试用例，导致程序错误地显示5条摘要
    - 如果程序地输入或输出是一个有序序列（例如顺序地文件、线性列表或表格），则应特别注意该序列第一个和最后一个元素
    - 此外，发挥聪明才智找出其他地边界条件
- 因果图分析，边界值分析和等价划分未对输入条件的组合进行分析，因果图实际上是一种数字逻辑电路（一个组合的逻辑网络），过程如下:
    - 1.将规格说明分解为可执行的片段
    - 2.确定规格说明中的因果关系
    - 3.分析规格说明的语义内容，并将其转换为连接因果关系的布尔图，即因果图
    - 4.给图加上注解符号，说明由于说法或环境的限制而不能练习起来的“因”和“果”
    - 5.通过仔细地跟踪图中地状态变化情况，将因果图转换成一个有限项地判定表
    - 6.将判定表中的列转换成测试用例
- 错误猜测

白盒测试:

- 语句覆盖
- 判定覆盖，判定覆盖通常可以满足语句覆盖
- 条件覆盖，比判定覆盖更强，需要编写足够的测试用例以确保将一个判断中的每个条件的所有可能的结果至少执行一次
- 判定/条件覆盖
- 多重条件覆盖

测试策略，并不能保证可以发现所有的错误，但实践证明这是一个合理的折中方案:

- 1.如果规格说明中包含输入条件组合的情况，应首先使用因果图分析方法
- 2.在任何情况下都应使用边界值分析方法。应记住，这是对输入和输出边界进行的分析
- 3.应为输入和输出确定有效和无效等价类，在必要情况下对上面确认的测试用例进行补充
- 4.使用错误猜测技术增加更多的测试用例
- 5.针对上述测试用例集检查程序的逻辑结构。应使用判定覆盖、条件覆盖、判定/条件覆盖或多重条件覆盖准则（最后的一个最为完整）

## 第 5 章 模块（单元）测试

在为模块测试设计的测试用例时，需要使用两种类型的信息: 模块的规格说明和模块的源代码。规格说明一半都规定了模块的输入和输出参数以及
模块的功能。

增量测试和非增量测试

自顶向下测试与自底向上测试

## 第 6 章 更高级别的测试

当程序无法实现其最终用户要求的合理功能时，就发生了一个软件错误。

软件产品开发周期的模型，过程的流程可归结为以下7个步骤:

1. 将软件最终用户的要求转换为一系列书面的需求。这些需求就是该软件产品要实现的目标
2. 通过评估可行性与成本、消除相抵触的用户需求、建立优先级和平衡关系，将用户需求转换为具体的目标
3. 将上述目标转换为一个准确的产品规格说明，将产品视为一个黑盒，仅考虑其接口以及与最终用户的交互。该规格说明被称为 “外部规格说明”
4. 如果该产品是一个系统，如操作系统、飞行控制系统、数据库管理系统或雇员人事系统等，而不仅是一个程序（编译器、工资程序、
字处理程序等），那么下一步骤就是系统设计。该步骤将系统分割为单独的程序、部件或子系统，并定义它们的接口
5. 通过定义每个模块的功能、模块的层次接口以及模块间的接口，来设计程序或程序集合的结构
6. 设计一份准确的规格说明，定义每个模块的接口与功能
7. 经过一个或更多的子步骤，将模块接口规格说明转换为每个模块的源代码算法

各个文档的含义:

- 需求规格说明书定义了为什么要开发程序
- 目标定义了程序要做什么，以及应做得怎样
- 外部规格说明定义了程序对用户的准确表现
- 与后续阶段相关的文档越来越详细地规定了程序是如何建立起来的

我们应该能够在开发过程和测试过程之间建立起来一对一的联系，举例来说:

- 模块测试的目的是发现程序模块与接口规格说明之间的不一致
- 功能测试的目的是为了证明程序未能符合其外部规格说明
- 系统测试的目的是为了证明软件产品与其最初目标不一致

功能测试，是一个试图发现程序与其外部规格说明之间存在不一致的过程。外部规格说明是一份从最终用户的角度对程序行为的精确描述

系统测试最容易被错误理解。系统测试并非是测试整个系统或程序功能的过程，因为有了功能测试，这样会显得多余。
系统测试有着特定的目的: 将系统或程序与其初始目标进行比较。给定这个目标之后，隐含两方面的含义:

1. 系统测试并不局限于系统。如果产品是一个程序，那么系统测试就是一个试图说明程序作为一个整体式如何不满足其目标的过程
2. 根据定义，如果产品没有一组书面的、可度量的目标，系统测试也就无法进行














