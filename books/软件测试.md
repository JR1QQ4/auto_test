# 软件测试

> 《软件测试》(美) Ron Patton 著 第二版

## 第一部分 软件测试综述

常用的术语: 缺点defect、偏差variance、故障fault、失败failure、问题problem、矛盾inconsistency、错误error、特殊feature、
事件incident、缺陷bug、异常anomaly

软件缺陷(software bug)的5个规则:

1）软件未实现产品说明书（product specification）要求的功能
2）软件出现了产品说明书指明不应该出现的错误
3）软件实现了产品说明书未提到的功能
4）软件未实现产品说明书虽未明确提及但应该实现的目标
5）软件难以理解、不易使用、运行缓慢或者——从测试员的角度来看——最终用户会认为不好

软件测试员的目标:

- 是发现软件缺陷
- 是尽可能早地找出软件缺陷
- 是尽可能早地找出软件缺陷，并确保其得以修复；修复缺陷并非指一定要改正软件，可以是指在用户手册中增加一段注释或未用户提供特殊的培训

软件测试员应具备的素质:

- 他们是群探索者，是故障排除员，不放过任何蛛丝马迹，具有创造性
- 他们是群追求完美者，判断准确，注重策略和外交，善于说服

产品的组成部分: 产品说明书、进度表、测试计划、产品审查、设计文档、以前版本的反馈、竞争对手的信息、用户调查、软件体系结构、
易用性数据、软件代码、外观说明

软件产品的组成部分: 帮助文件、用户手册、样本和示例、标签和不干胶、产品支持信息、图标和标志、错误信息、广告和宣传材料、安装、说明文件

软件项目成员:

- 项目经理、程序经理或监制人员自始至终驱动整个项目，通常负责编写产品说明书、管理进度、进行重大决策
- 体系架构师或者系统工程师是产品小组中的技术专家，一般经验丰富，可以胜任设计整个系统的体系架构或软件
- 程序员、开发人员或者代码制作者设计、编写软件并修复软件中的缺陷
- 测试员或质量保证（Quality Assurance，QA）员负责找出并报告软件产品的问题
- 技术作者、用户协作专员、用户培训专员、手册编写员或者文案专员编制软件产品附带的文件和联机文档
- 配置管理员或构建员负责把程序员编写的代码及技术作者写的全部文档资料组合在一起，合成为一个软件包

软件开发生命周期模式（从最初构思到公开发行的过程）的 4 种最常用的模式:

- 大爆炸模式
- 编写边改模式
- 瀑布模式
- 螺旋模式: 确定目标、可选方案和限制条件->明确并化解风险->评估可选方案->当前阶段开发和测试->计划下一阶段->确定进入下一阶段的方法
    - 螺旋模式包含了一点瀑布模式(分析、设计、开发和测试的步骤)、一点边写边改模式和一点大爆炸模式(从外界观察)

敏捷软件开发(Agile Software Development)，也叫快速原型、极限编程或进化开发等

测试的原则:

- 完全测试程序是不可能的，有4个原因: 输入量太大、输出结果太多、软件执行路径太多、软件说明书是主观的
- 软件测试是有风险的行为
- 测试无法显示潜伏的软件缺陷
- 找到的软件缺陷越多，就说明软件缺陷越多
- 杀虫剂怪事
- 并非所有软件缺陷都要修复
- 什么时候才叫缺陷难以说清
- 产品说明书从没有最终版本
- 软件测试员在产品小组中不受欢迎
- 软件测试是一项讲究条理的技术专业

软件测试的术语和定义:

- 精确（precision）和准确（accuracy），例子，靶盘上的飞镖
- 确认（verification）和验证（validation），保证软件符合产品说明书的过程和保证软件满足用户要求的过程
- 质量（quality）和可靠性
- 测试（testing）和质量保证（quality assurance，QA）
    - 软件测试员的目标是尽可能早地找出软件缺陷，并确保缺陷得以修复
    - 软件质量保证人员的主要职责是创建和执行改进软件开发过程并防止软件缺陷发生的标准和方法

## 第二部分 测试基础 

测试方法:

- 黑盒测试（black-box testing）和白盒测试（white-box testing）:
    - 黑盒测试又称功能性测试（functional testing）或行为测试（behavioral testing）
    - 白盒测试有时称为透明盒测试（clear-box testing）
- 静态测试（static testing）和动态测试（dynamic testing）
- 通过性测试（test-to-pass）和失效性测试（test-to-fail）   

检查产品说明书（静态黑盒测试）:

- 优秀的产品说明书应具备的8个重要属性: 完整，准确，精确，一致，贴切，合理，代码无关，可测试性
- 产品说明书术语检查清单:
    - 总是、每一种、所有、没有、从不。软件测试员要考虑违反这些情况的用例
    - 当然、因此、明显、显然、必然。这些话意图说服你接受假定情况
    - 某些、有事、常常、通常、惯常、经常、大多、几乎。这些话太过模糊，"有时"发生作用的功能无法测试
    - 等等、诸如此类、依此类推、例如。这样的词结束的功能清单无法测试，功能清单要绝对或者解释明确
    - 良好、迅速、廉价、高效、小、稳定。这些是无法量化的术语，他们无法测试
    - 处理，进行，拒绝，跳过，排除。这些用词可能会隐藏大量需要说明的功能
    - 如果...那么...（没有否则）。找出有"如果...那么..."而缺少配套的"否则"结构的陈述，想一想"如果"没有发生会怎样

带上眼罩测试软件（动态黑盒测试）:

- 等价类划分（equivalence partitioning），有时称为等价分类（equivalence classing）
- 数据测试（数据————数字、文字、软件输入和输出）: 
    - 边界条件（boundary condition）
    - 次边界条件（sub0boundary conditions）或者内部边界条件（internal boundary conditions）
    - 默认、空白、空值、零值和无
    - 非法、错误、不正确和垃圾数据
- 状态测试: 测试软件的逻辑流程、失败状态测试
- 其他黑盒测试技术: 像笨拙的用户那样，在已经找到的软件缺陷的地方再找找，像黑客一样考虑问题，凭借经验、直觉和预感
 
检查代码（静态白盒测试）: 通过正式审查和检验检查代码的细节

- 正式审查（formal review）的4个基本要素: 确定问题，遵守规则，准备，编写报告
    - 常用审查方式: 同事审查 -> 走查（Walkthrough） -> 校验（inspections）
- 编码标准和规范
- 通用代码审查清单:
    - 数据引用错误
    - 数据声明错误
    - 计算错误
    - 比较错误
    - 控制流程错误
    - 子程序参数错误
    - 输入/输出错误
    - 其他检查: 编码，可移植，兼容性，提示信息

动态白盒测试，又称为结构化测试（structural testing）: 在看到软件的工作方式时，根据获得的信息对软件进行测试

- 包括4个部分:
    - 直接测试底层函数、过程、子程序和库。在 Microsoft Windows 中这称为应用程序编程接口（API）
    - 以完整程序的方式从顶层测试软件，但是根据对软件运行的了解调整测试用例
    - 从软件获取读取变量和状态信息的访问权，以便确定测试与预期结果是否相符，同时，强制软件以正常测试难以实现的方式运行
    - 估算执行测试时"命中"的代码量和具体代码，然后调整测试，去掉多余的测试用例，补充遗漏的用例
- 动态白盒测试和调试: 前者的目标时寻找软件缺陷，后者的目标时修复缺陷
- 分段测试:
    - 单元测试（unit testing）和集成测试（module testing） -> 系统测试（system testing）
        - 自底向上（bottom-up）和自顶向下（top-down），桩（Stub）
- 数据覆盖: 数据量（Data flow），次边界，公式和等式，错误强制（error forcing）
- 代码覆盖（code coverage）测试，代码覆盖率分析器（code coverage analyzer）
    - 代码覆盖最直接的形式称为语句覆盖（statement coverage）或者代码行覆盖（line coverage）
    - 试图覆盖软件中的所有路径称为路径覆盖，路径覆盖最简单的形式称为分支覆盖测试
    - 条件覆盖（condition coverage）测试将分支语句的条件考虑在内

## 第三部分 运用测试技术

配置测试:

- 配置测试综述: 分离配置缺陷，计算工作量
- 执行任务: 
    - 确定所需的硬件类型
    - 确定有哪些厂商的硬件、型号和驱动程序可用
    - 确定可能的硬件特性、模式和选项
    - 将确定后的硬件配置缩减为可控制的范围
    - 明确与硬件配置有关的软件唯一特性
    - 设计在每一种配置中执行的测试用例
    - 在每种配置中执行测试
    - 反复测试直到小组对结果满足为止
- 获得硬件
- 明确硬件标准
- 对其他硬件进行配置测试

软件兼容性测试（software compatibility testing），指检查软件之间是否能够正确地交互和共享信息:

- 平台和应用程序版本: 
    - 向后（backward compatible）和向前兼容（forward compatible）
    - 测试多个版本的影响
- 标准和规范
- 数据共享兼容性

外国语言测试: 使文字和图片有意义，翻译问题，本地化问题，配置和兼容性问题，测试量有多大

易用性测试: 用户界面测试，优秀UI由什么构成（符合标准和规范、直观、一致、灵活、舒适、正确、实用），为有残疾障碍的人员测试

测试文档:

- 测试文档可能的组成: 安装和设置指导，用户手册，联机帮助，授权/注册登记表，指南，样例，错误提示信息等
- 文档测试检查清单: 通用部分（术语等），正确性，检查的内容（图标和屏幕抓图、样例和示例、拼写和语法）
- 文档测试的实质: 文档常常得不到足够的重视、预算和援助，编写文档的人可能对软件做什么不甚了解，印刷文档制作要花不少时间

软件安全性测试:

- 威胁模式分析（threat modeling）
- 软件安全可以简单地看作是软件产品或系统的另外一项功能
- 了解缓冲区溢出
- 使用安全的字符串函数




























